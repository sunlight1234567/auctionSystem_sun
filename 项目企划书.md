# 在线拍卖系统项目企划书

## 一、项目背景与目标
随着电子商务和数字支付的发展，在线拍卖作为一种高效的交易方式，正被广泛应用于艺术品、收藏品、二手商品等领域。本项目旨在利用计算机网络原理与现代Web开发技术，构建一个安全、高效、可扩展的在线拍卖平台，支持多角色协同操作，并实现符合真实拍卖规则的竞拍机制。

## 二、系统角色与职责

### 1. 卖家（Seller）
- 注册并登录账户；
- 提交拍品信息（包括商品名称、照片≥3张、描述、起拍价、加价幅度、开拍时间、拍卖时长）；
- 查看自己拍品的审核状态、当前竞价情况及最终成交结果；
- 接收拍卖成功后的通知，并配合完成后续交易（如发货）。

### 2. 买家（Buyer）
- 注册并登录账户；
- 浏览所有已通过审核且处于“即将开拍”或“正在拍卖”状态的拍品；
- 在拍卖开始后参与出价，每次出价需 ≥ 当前最高价 + 加价幅度；
- 查看自己的出价记录及是否中标；
- 拍卖结束后，若中标则收到付款通知。

### 3. 平台管理员（Admin）
- 审核卖家提交的拍品信息（内容合规性、图片真实性等）；
- 可驳回不符合规范的拍品并附带理由；
- 监控系统运行状态，处理异常（如恶意刷价、虚假账号）；
- 管理用户账户（封禁、解封等）；
- 查看平台整体数据统计（如日活用户、成交金额、热门品类等）。

## 三、核心业务流程

### 1. 拍品提交
卖家填写拍品表单 → 系统暂存为“待审核”状态。

### 2. 拍品审核
管理员在后台审核 → 通过则设为“待开拍”，否则退回并通知卖家。

### 3. 拍卖启动
系统定时任务检查当前时间是否到达开拍时间 → 自动将状态更新为“拍卖中”。

### 4. 实时竞价
- 买家通过前端界面提交出价请求；
- 后端验证出价合法性（是否 ≥ 当前价 + 加价幅度）；
- 若合法，更新数据库中的当前最高价与出价者；
- **防“狙击”机制**：若在拍卖结束前3分钟内有 ≥3 次有效出价，则自动延长5分钟（可多次触发）。

### 5. 拍卖结束与结算
- 系统检测到拍卖时间结束且无延期条件 → 标记为“已结束”；
- 最高出价者中标，系统生成订单；
- 通知买卖双方，进入支付与履约阶段（本项目可暂不实现支付模块，仅做通知）。

## 四、拍品信息字段（数据库设计参考）

| 字段名 | 类型 | 说明 |
| :--- | :--- | :--- |
| `item_id` | INT (PK) | 拍品唯一ID |
| `seller_id` | INT | 卖家用户ID（外键） |
| `name` | VARCHAR(100) | 商品名称 |
| `description` | TEXT | 商品描述 |
| `start_price` | DECIMAL(10,2) | 起拍价 |
| `increment` | DECIMAL(10,2) | 每次加价幅度 |
| `start_time` | DATETIME | 开拍时间 |
| `duration_minutes` | INT | 拍卖时长（分钟） |
| `status` | ENUM | 状态 ('pending', 'approved', 'rejected', 'auctioning', 'ended') |
| `current_price` | DECIMAL(10,2) | 当前最高价 |
| `highest_bidder_id` | INT | 当前最高出价者ID（可为空） |
| `created_at` | DATETIME | 提交时间 |

> **注**：图片可单独建表 `item_images(item_id, image_url)`，支持一对多。

## 五、技术栈与网络协议应用

### 1. 技术栈
- **前端**：HTML/CSS/JavaScript + Vue.js 或 React（支持实时更新）
- **后端**：Node.js / Python (Django/Flask) / Java (Spring Boot)
- **数据库**：MySQL（关系型，支持事务与并发控制）
- **实时通信**：WebSocket（用于推送最新出价、倒计时更新）
- **部署**：Nginx + Docker + 云服务器（如阿里云ECS）

### 2. 计算机网络知识应用
- **TCP/IP 协议**：确保客户端与服务器之间可靠的数据传输（如出价请求、用户登录）；
- **HTTP/HTTPS**：用于常规页面加载与API调用，HTTPS保障用户数据加密；
- **WebSocket**：建立持久连接，实现实时竞价通知与倒计时同步，避免频繁轮询；
- **DNS 与 CDN**：加速静态资源（如商品图片）加载；
- **负载均衡**：未来用户量增长时，可通过多台服务器分担请求（基于IP或应用层）；
- **NAT 与 防火墙配置**：保障服务器安全，仅开放必要端口（如80、443、WebSocket端口）。

## 六、安全与可靠性设计
- **用户认证**：采用 JWT 或 Session + Cookie 实现登录态管理；
- **输入校验**：防止 XSS、SQL注入（使用参数化查询）；
- **出价幂等性**：同一用户短时间内重复出价应被拒绝或去重；
- **并发控制**：使用数据库行锁或 Redis 分布式锁，防止超卖或出价覆盖；
- **日志审计**：记录关键操作（如出价、审核、状态变更），便于追溯；
- **数据备份**：定期备份 MySQL 数据，防止意外丢失。

## 七、扩展性与未来展望
- 增加 **自动出价（Proxy Bidding）** 功能：买家可设置最高心理价位，系统代其出价；
- 引入 **信用评分系统**：对频繁违约用户限制参与；
- 支持 **多品类分类与搜索**（如按类别、价格区间、地理位置）；
- 集成 **第三方支付接口**（如支付宝、微信支付）实现闭环交易；
- 移动端适配或开发 App，提升用户体验。
